<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uploaded Book List</title>
    <link href="stylesheets/booklist.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <% books.forEach((book) => { %>
    <div class="container">
        
            <div class="image-container">
                <img src="<%= book.image %>" alt="Cover" class="image">
            </div>

            <!-- Text container -->
            <div class="text-container">
               <h1><%= book.name %></h1>
              <div class="icon-container"> 
                <span class="icon-wrap">
                    <i class="fa-solid fa-list-ul"></i>
                    <span class="icon-title">Chapter</span>
                    <span class="icon-count">12</span>
                </span>
                <!-- Đường phân cách -->
                <div class="separator"></div>

                <span class="icon-wrap">
                    <i class="fa-solid fa-eye"></i>
                    <span class="icon-title">View</span>
                    <span class="icon-count"><%= book.views %></span>
                </span>
               </div>
            
               <form action="/admin/update-status/:id" method="POST">
               <p>Publish Status: 
                <select class="status" id="status" name="status">
                    <option value="Completed" class="on-hold" <%= book.status === 'Completed' ? 'selected' : '' %>>Completed</option>
                    <option value="In progress" class="finish" <%= book.status === 'In progress' ? 'selected' : '' %>>In progress</option>
                </select>
               </p>
            </form>
            
                <!--Nút Delete, Edit-->   
                <button class="edit-btn"><a href="/admin/update/<%= book._id %>" class="edit-btn" style="text-decoration: none;">Edit</a></button>
                <button class="delete-btn"><a href="/admin/delete/<%= book._id %>" class="delete-btn" style="text-decoration: none;">Delete</a></button>
            </div>
        
    </div>
    <% })%>

    <!-- Chèn script vào trước thẻ đóng body 
    <script>
        // Lấy phần tử <select> với id 'status'
        const statusSelect = document.getElementById('status');

        // Lắng nghe sự kiện thay đổi giá trị của select
        statusSelect.addEventListener('change', function() {
            // Kiểm tra nếu chọn "Finish"
            if (this.value === 'finish') {
                this.classList.remove('on-hold'); // Xóa lớp 'on-hold'
                this.classList.add('finish'); // Thêm lớp 'finish'
            } 
            // Kiểm tra nếu chọn "On hold"
            else if (this.value === 'on-hold') {
                this.classList.remove('finish'); // Xóa lớp 'finish'
                this.classList.add('on-hold'); // Thêm lớp 'on-hold'
            }
        });
    </script>  -->
    
    
</body>

</html>